import{r as n,j as e}from"./index-main-D_2xeyly.js";import{g as T,a as E,b as D,c as P,d as b}from"./github2-CIInxu-w.js";const z=()=>{const r="Muliminty",c="Muliminty-Note",p="/CSS常见技巧",[i,u]=n.useState(null),[m,y]=n.useState(""),[w,S]=n.useState([]),[g,C]=n.useState([]),[F,k]=n.useState([]),[M,s]=n.useState(!1),[l,o]=n.useState(null),h=async()=>{try{s(!0);const t=await T(r,c);u(t)}catch{o("获取仓库信息失败")}finally{s(!1)}},d=async()=>{try{s(!0);const t=await E(r,c);k(t)}catch{o("获取仓库树形结构失败")}finally{s(!1)}},x=async()=>{try{s(!0);const t=await D(r,c);S(t)}catch{o("获取提交历史失败")}finally{s(!1)}},I=async t=>{try{s(!0);const a=await P(r,c,t);y(a)}catch{o("获取文件内容失败")}finally{s(!1)}},f=async()=>{try{s(!0);const t=await b(r,c,p);C(t)}catch{o("获取 Markdown 文件失败")}finally{s(!1)}},[j,R]=n.useState(!1),H=()=>{h(),d(),x(),f(),R(!0)};return n.useEffect(()=>{j||H()},[j]),e.jsxs("div",{children:[e.jsx("h1",{onClick:()=>{h(),d(),x(),f()},children:"API 测试"}),e.jsx("h2",{children:"GitHub 仓库博客"}),e.jsxs("section",{children:[e.jsx("h3",{children:"仓库信息"}),M?e.jsx("p",{children:"加载中..."}):l?e.jsx("p",{children:l}):i&&e.jsxs("div",{children:[e.jsxs("p",{children:["仓库名称: ",i.name]}),e.jsxs("p",{children:["描述: ",i.description]}),e.jsxs("p",{children:["Stars: ",i.stargazers_count]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{children:"仓库树形结构"}),e.jsx("ul",{children:F.map(t=>e.jsx("li",{children:t.path},t.path))})]}),e.jsxs("section",{children:[e.jsx("h3",{children:"提交历史"}),e.jsx("ul",{children:w.map((t,a)=>e.jsx("li",{children:t.message},a))})]}),e.jsxs("section",{children:[e.jsx("h3",{children:"Markdown 文件列表"}),e.jsx("ul",{children:g.map((t,a)=>e.jsx("li",{onClick:()=>I(t.path),children:t.name},a))})]}),e.jsxs("section",{children:[e.jsx("h3",{children:"Markdown 文件内容"}),e.jsx("pre",{children:m})]})]})};export{z as default};
